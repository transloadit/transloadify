<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
      <title>Getting-started | Transloadify – Cloudencoding in a box | Transloadify</title>
    

    <meta name="keywords" content="cloud, encoding, shell">
    <meta name="description" content="Transloadify">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="/assets/build/app.ff3fd78d2d68b0aef599.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <div id="header-overlay"></div>
      <a href="/">
        <h1 id="logo">./transloadify</h1>
      </a>
      <div id="menu">
        <i class="material-icons">menu</i>
        <ul id="menu-items">
        </ul>
      </div>
      <span id="more">
        <i class="material-icons">expand_more</i>
      </span>
    </header>
    <section id="content">
      

      <h1 id="getting-started">Getting Started</h1>

<blockquote>
  <p>Transloadify is not ready for use and some of the steps described in this guide
– such as the Registration &amp; Authentication section – <strong>will not</strong> work yet.</p>
</blockquote>

<p>Transloadify is a tool for accessing Transloadit from the command line. It can
be used to create tooling for applications already using Transloadit, or to 
encode local media on their cloud platform. This guide will focus on the latter, giving you
a step-by-step rundown of everything you need to do in order to get Transloadify running 
on your system, and how to get your own automated video processing going.</p>

<h2 id="introduction">Introduction</h2>

<p>Let’s say you are working on <em>the</em> revolutionary new Internet-of-Things project, and you want
your Raspberry Pi devices to release videos as part of that. You would prefer to apply a 
watermark to these videos before posting them to YouTube, but there is a problem: 
your Raspberry Pi needs its resources for other things than encoding video.</p>

<p>That is a problem no longer! With Transloadify, you will be able to take full advantage of your 
internet connection to make up for what you are lacking in processing power.</p>

<p>Of course, the same principle holds true even for very beefy machines, when they are
confronted with <em>even beefier</em> media libraries. When you put Transloadit’s datacenters 
to good use, your machines won’t have to break a sweat and can focus on serving your app!</p>

<p>Additionally, you can leverage Transloadit’s presets, such as “optimized for iPad”, meaning you
won’t have to figure out the many encoding settings required for that yourself. You will also have access to
powerful scaling algorithms that will allow you to encode large libraries swiftly.</p>

<p>However, we are trying keeping things small and simple in this walkthrough, so we’ll circle back to our
Raspberry Pi example now.</p>

<p>Let’s take a look at how to go from zero to having a robust video processing system in just a 
few steps.</p>

<h2 id="installation">Installation</h2>

<p>First things first. Transloadify can be installed on any platform using 
<a href="https://npmjs.com">npm</a>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm <span class="nb">install</span> <span class="nt">-g</span> transloadify
</code></pre></div></div>

<h3 id="other-sources">Other sources</h3>

<p>Transloadify is also distributed for Arch Linux in the
<a href="https://aur.archlinux.org/packages/transloadify">AUR</a>.</p>

<p>We are planning to add a docker container for this in the near future as well.</p>

<h2 id="registration--authentication">Registration &amp; Authentication</h2>

<p>Before being able to use Transloadify, you will need a Transloadit account.
Fortunately, Transloadify makes this as quick and painless as possible. Simply run <code class="language-plaintext highlighter-rouge">transloadify register</code>
and you will be able to log in using your Github or Google account. If you
already have a Transloadit account, you can log in using <code class="language-plaintext highlighter-rouge">transloadify
authenticate</code>. After successfully running either of these commands, you should
see a <code class="language-plaintext highlighter-rouge">.transloadify</code> file containing your credentials in your home directory.
Transloadify will save these credentials for subsequent uses, so you will only have to log in once.</p>

<p>Alternatively, you can populate this file yourself, or pass the <code class="language-plaintext highlighter-rouge">TRANSLOADIT_AUTH_KEY</code>
and <code class="language-plaintext highlighter-rouge">TRANSLOADIT_AUTH_SECRET</code> environment variables to Transloadify.</p>

<h2 id="specifying-assembly-instructions">Specifying assembly instructions</h2>

<p>The <a href="https://transloadit.com/docs/">Transloadit documentation</a> describes how to
write assembly instructions for processing your media. Especially important here are
the sections on <a href="https://transloadit.com/docs/#terminology">terminology</a> and
<a href="https://transloadit.com/docs/topics/assembly-instructions/">assembly instructions</a>.</p>

<p>For our purposes, we will be using the following instructions:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"video_encode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"robot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/video/encode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">":original"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"watermark_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.org/watermark.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>We will now save this in a file called <code class="language-plaintext highlighter-rouge">steps.json</code>.</p>

<h2 id="processing-a-video">Processing a video</h2>

<p>With just that, our watermarking solution is already nearly good to go. Just run <code class="language-plaintext highlighter-rouge">transloadify -i
path/to/original.webm -o path/to/watermarked.webm --steps steps.json</code> and once
the video finishes uploading and processing, you should find a watermarked
version of your video in <code class="language-plaintext highlighter-rouge">watermarked.webm</code>. Depending on the size of the video,
the command might take a while to complete. It shouldn’t print anything. If the file
exits without any error messages, then you know it has succeeded.</p>

<h2 id="automation">Automation</h2>

<p>Now that we have got basic video processing up and running (wasn’t that easy?) we will
need a way to automatically send a video to be processed. If you already have tools in place
that record the video, then you may just want to invoke
Transloadify from there, as soon as the video has finished recording. If you need tighter
integration into your app, consider using an SDK such as the one for 
<a href="https://github.com/transloadit/ruby-sdk">Ruby</a> or 
<a href="https://github.com/transloadit/go-sdk">Go</a>. Our SDKs offer a more ergonomic API
for integrating into projects written in those respective languages.</p>

<p>But perhaps there is no SDK for your programming language and you don’t feel like writing the boilerplate to 
interface with Transloadit’s REST API directly. Or perhaps you’re not using a
programming language at all, because you’re an ops person that just has to deal
with (incoming) files in a directory. Maybe you’re just going for a more loosely coupled solution.
For all of those cases, we recommend you to take advantage of Transloadify’s file-watching capabilities.</p>

<p>If you run <code class="language-plaintext highlighter-rouge">transloadify --watch --steps steps.json -i originals/ -o
watermarked/</code> Transloadify will automatically process all videos placed in
<code class="language-plaintext highlighter-rouge">originals/</code> and output the watermarked version to <code class="language-plaintext highlighter-rouge">watermarked/</code>. This way, you
can configure your recording script to output video files to <code class="language-plaintext highlighter-rouge">originals/</code> and
Transloadify will take care of the rest.</p>

<p>You could use this, for instance, to monitor a <code class="language-plaintext highlighter-rouge">~/Dropbox/incoming</code> folder. Someone on the 
other end of the world could be adding videos to it, while you have
Transloadify monitoring that folder and immediately watermarking any incoming videos. The results 
will then be made available again in <code class="language-plaintext highlighter-rouge">~/Dropbox/watermarked</code> and Dropbox will notify the other person of any newly watermarked
file. Isn’t that great? A fully functioning automated video processing system. And, apart from setting up Transloadify once, neither of you has to spend any brain or computing power on setting it up! :smile:</p>

<p>So you see, by leveraging Transloadify’s automation capabilites, you can easily and
effectively augment the workflow of creators, and enable them to focus on their content, rather than
struggle with video editors on the spot.</p>

<h2 id="templates">Templates</h2>

<p>If you are recording video on just one device then it is acceptable to store the assembly
instructions in a steps file. However, when you find yourself managing multiple
instances, or in cases where you want to use embedded secrets because you cannot trust the requesting device or its connection, 
you could really benefit from using Transloadit’s template facilities. By
managing your assembly instructions with templates, you will no longer have to worry
about distributing changes to your assembly instructions. Using templates is
also useful for more advanced assembly instructions, such as those that accept
parameters to modify the desired encoding behavior.</p>

<p>Templates can be created using the Transloadit 
<a href="https://transloadit.com/templates/add/">web interface</a>, but Transloadify
will also let you create them from the command line. Running <code class="language-plaintext highlighter-rouge">transloadify templates
create &lt;name&gt; &lt;file&gt;</code> will create a template with the given name, using the
assembly instructions in the given file. The name is just to help you keep your
template list organized, it can easily be changed later. In our case:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>transloadify templates create watermarker steps.json
</code></pre></div></div>

<p>This command will produce a hexadecimal string which is the ID of the new
template. Now, instead of giving transloadify the <code class="language-plaintext highlighter-rouge">--steps</code> option, we can pass
the template ID to the <code class="language-plaintext highlighter-rouge">--template</code> option. For example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>transloadify <span class="nt">--watch</span> <span class="nt">--template</span> 656cfd70ab4a11e6bbc7bd5c371617df <span class="se">\</span>
    <span class="nt">-i</span> originals/ <span class="nt">-o</span> watermarked/
</code></pre></div></div>

<h2 id="making-the-most-of-transloadit">Making the most of Transloadit</h2>

<p>We now have video processing working smoothly, but the benefit of having lower 
CPU usage through offloading watermarking process to Transloadit comes at a price 
– a price paid in bandwith. The good news is: we can easily fix this as well! 
Since we would otherwise already have to upload the video once anyway — the final video, to YouTube — 
rather than uploading the video to Transloadit, then downloading the watermarked version, then uploading
the watermarked version to YouTube, we can instruct Transloadit to upload the
watermarked video directly to YouTube, thereby skipping the download process entirely.</p>

<p>In order for Transloadit to be able to upload video to your YouTube account, you
will need to use the template credentials 
<a href="https://transloadit.com/template-credentials/">admin interface</a> and authorize
Transloadit to upload to your account. Due to security considerations, only
assembly instructions contained in templates can make use of template
credentials, so make sure to use <code class="language-plaintext highlighter-rouge">--template</code> instead of <code class="language-plaintext highlighter-rouge">--steps</code>.</p>

<p>Next, we must modify the “watermarker” template to upload to YouTube with the
credentials we just created.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"video_encode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"robot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/video/encode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">":original"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"watermark_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.org/watermark.png"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"youtube"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"robot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/youtube/store"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"video_encode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_youtube_credentials"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The changes to the template can be effected either with the <code class="language-plaintext highlighter-rouge">transloadify templates
modify watermarker steps.json</code> command or through the web interface.</p>

<p>In order to avoid needlessly downloading the watermarked videos that now
directly go to YouTube, we should drop the output option from our file-watching command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>transloadify <span class="nt">--watch</span> <span class="nt">--template</span> 656cfd70ab4a11e6bbc7bd5c371617df <span class="nt">-i</span> originals/
</code></pre></div></div>

<p>And there you go! Fully automated video processing and uploading to YouTube, all from the comfort of your own command line. With Transloadify, you can do a lot more than just this, of course. See <a href="https://transloadit.com/docs/">Transloadit’s documentation</a> for the many other features they have to offer.</p>

<p>We hope that this tutorial has succeeded in teaching you the basics of setting up your own video processing with Transloadify. If you have any more question about how to this tool, let us know on <a href="https://twitter.com/transloadit">Twitter</a> or via <a href="mailto:hello@transloadit.com">email</a>.</p>

<p><a href="/">« Home</a></p>


      <div class="Social">
        <iframe src="http://ghbtns.com/github-btn.html?user=transloadit&repo=transloadify&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
      </div>

      <p>
        <small>
          <hr />
          Website design based on
          the wonderful <a href="http://apex.run">apex.run</a>
          with <a href="https://twitter.com/tjholowaychuk/status/744909762865696769">the author's consent</a>.
        </small>
      </p>
    </section>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/languages/bash.min.js"></script>
  <script src="/assets/build/app.8b7a68b3430dd61a2008.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-92352107-2', 'auto');
    ga('send', 'pageview');
  </script>
</html>
